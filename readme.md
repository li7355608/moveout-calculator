# 退租费用计算器 (Moveout Calculator)

一个用于计算租户退租时水电燃气费用的Java应用程序。

## 功能特点

- 计算水、电、燃气的使用量和费用
- 支持预付款和后付款两种付费模式
- 自动生成详细的费用结算单
- 精确的BigDecimal计算，避免浮点数精度问题

## 系统架构

### 核心类说明

1. **MoveOutCalculator** - 核心计算类
    - 根据水电气单价和账单数据计算各项费用
    - 支持预付款和后付款模式的退款计算

2. **BillingService** - 账单服务类
    - 管理整个费用计算流程
    - 创建示例账单数据
    - 显示计算结果

3. **实体类**
    - Bill - 账单信息实体，包含入住和退租时的水电气读数
    - CalculationResult - 计算结果实体，包含所有费用明细

## 使用方法

1. 修改 BillingService 中的示例账单数据或创建新的账单
2. 设置相应的水电气单价（在 BillingService 中）
3. 运行 Main 类启动程序
4. 程序将自动计算并显示费用结算单

## 费用计算逻辑

### 使用量计算
```
实际使用量 = 退租读数 - 入住读数
```


> 入住读数为负数表示欠费，正数表示预存余额

### 费用计算
```
各项费用 = 使用量 × 单价
总费用 = 水费 + 电费 + 燃气费
```


### 退款计算（预付款模式）
```
退款金额 = 预付款金额 - 总费用
```


- 退款金额为正：应退还给用户
- 退款金额为负：用户需要补缴费用

## 示例输出

程序运行后会输出类似以下格式的结算单：

```
=== 退租费用结算单 ===
入住时间: 2023年01月01日 14:00
退租时间: 2023年12月31日 10:00
付费模式: 后付费模式
------------------------
入住时状态：
  水费: -25.50 元 (负数为欠费)
  电费: 50.00 元 (负数为欠费)
  燃气费: -10.00 元 (负数为欠费)

退租时读数：
  水表: 150.00 元
  电表: 80.00 元
  燃气表: 200.00 元

使用量明细：
  水使用量: 175.50
  电使用量: 30.00
  燃气使用量: 210.00

费用明细：
  水费消耗: 175.50，费用: 614.25 元
  电费消耗: 30.00，费用: 36.00 元
  燃气费消耗: 210.00，费用: 588.00 元
------------------------
总计应付费用: 1238.25 元
```
